!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ScrollSpy=t()}(this,(function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var a=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n,r,i;e.exports=(n=window,r={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}},i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){n.setTimeout(e,1e3/60)},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"easeOutSine",a=0,u=t.scrollY||document.documentElement.scrollTop,c=Math.max(.1,Math.min(Math.abs(u-e)/o,.8));!function n(){var o=(a+=1/60)/c,l=r[s](o),f=o<1?u+(e-u)*l:e;o<1&&i(n),t.scrollTo(0,f)}()})}));return function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=t({linkCurrentClass:"current",linksContainerSelector:".js-scroll-spy-nav",sectionSelector:".js-scroll-spy-section",headerOffset:!0,headerClass:".c-header"},r);return this.init(i),window.addEventListener("load",this.refreshPositions.bind(this)),window.addEventListener("resize",this.refreshPositions.bind(this)),this}var i,s,u;return i=e,(s=[{key:"init",value:function(e){this.setProperties(e),this.getSectionData(),this.getCurrentSectionIndex(),this.setCurrentState(),this.bindEvents()}},{key:"setProperties",value:function(e){var t=document;this.linksContainerSelector=e.linksContainerSelector,this.sectionSelector=e.sectionSelector,this.linksContainer=t.querySelector(this.linksContainerSelector),this.links=o(this.linksContainer.querySelectorAll("a")),this.sections=o(t.querySelectorAll(this.sectionSelector)),this.headerOffset=e.headerOffset,this.headerClass=e.headerClass,this.linkCurrentClass=e.linkCurrentClass,this.currentIdx=0,this.data={offsets:[],ids:[]}}},{key:"getSectionData",value:function(){var e=this;this.sections.forEach((function(t){e.data.ids.push(t.getAttribute("id")),e.data.offsets.push(e.getSectionOffset(t))}))}},{key:"refreshPositions",value:function(){var e=this;this.data.offsets=this.data.offsets.map((function(t,n){return e.getSectionOffset(e.sections[n])}))}},{key:"getSectionOffset",value:function(e){return this.headerOffset?e.offsetTop-document.querySelector(this.headerClass).offsetHeight:e.offsetTop}},{key:"getCurrentSectionIndex",value:function(){var e=this,t=window.pageYOffset;this.data.offsets.forEach((function(n,r){var i=e.data.offsets[r+1];(t>=n&&t<i||t>=n&&void 0===i)&&(e.currentIdx=r)})),this.setCurrentState()}},{key:"setCurrentState",value:function(){var e=this;document.querySelector(this.linksContainerSelector).querySelectorAll(".".concat(this.linkCurrentClass)).forEach((function(t){return t.classList.remove(e.linkCurrentClass)})),this.links[this.currentIdx].parentNode.classList.add(this.linkCurrentClass)}},{key:"scrollToCurrentSection",value:function(){a(this.data.offsets[this.currentIdx])}},{key:"bindEvents",value:function(){var e=this,t=window;this.links.forEach((function(t,n){t.addEventListener("click",(function(t){t.preventDefault(),e.currentIdx=n,e.scrollToCurrentSection()}))})),t.addEventListener("scroll",(function(t){e.getCurrentSectionIndex()}))}}])&&r(i.prototype,s),u&&r(i,u),e}()}));
